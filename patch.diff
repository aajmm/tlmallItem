From a0c36cc195b2a3037b571aa1b0f396b585b11b31 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?=E6=A2=81=E5=AE=87=E8=B1=AA?= <yuhao.liang@yunshipei.com>
Date: Mon, 20 May 2019 09:52:33 +0800
Subject: [PATCH] =?UTF-8?q?=E4=BF=A1=E6=81=AF=E5=BD=95=E5=85=A5=20=20-=20?=
 =?UTF-8?q?=E6=9C=AC=E5=9C=B0=E7=BC=93=E5=AD=98?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 CRM_NewPlatForm/lib/base.js                   | 122 ++++++++++++++++--
 CRM_NewPlatForm/manifest.json                 |   2 +-
 .../plan/customerInformationFIll/index.js     |   8 +-
 CRM_NewPlatForm/plan/index/index.json         |  99 ++++++++++++++
 CRM_NewPlatForm/plan/infomationInput/index.js |  22 +++-
 .../plan/infomationInput/index.json           |  96 +++++++++++++-
 6 files changed, 327 insertions(+), 22 deletions(-)

diff --git a/CRM_NewPlatForm/lib/base.js b/CRM_NewPlatForm/lib/base.js
index a207982f..03b484f6 100644
--- a/CRM_NewPlatForm/lib/base.js
+++ b/CRM_NewPlatForm/lib/base.js
@@ -77,6 +77,17 @@
   var loginEncoder = '';//作为登陆日志定位问题
   topWin.dataMenu = '';
   var loginFlag = false;
+  //信息录入 - 本地存储部分 (取赋值操作)
+  topWin.pageBackfill=function(state,obj){
+    switch(state){
+      case 'false':state = false;break;
+      case 'true':state = true;
+    }
+    ysp.customHelper.informationEntry.isSave = state;
+    //obj = JSON.parse(obj);
+    ysp.customHelper.informationEntry.saveData = obj;
+  }
+  //信息录入 - 本地存储部分 (取赋值操作)
   //IOS客户端调用.解决请求ICON接口跨域问题;
   topWin.GetIconNum = function(summary,atMe){
     if(!summary && !atMe || summary == 'error'){
@@ -220,6 +231,7 @@
       return ;
     }
     if(user&&password){
+      ysp.customHelper.logLoginName = user;
       LOGINNAME = user;  //日志内容部分
       LOGINTIME = new Date().getTime();
       var currentAwin = ysp.runtime.Browser.activeBrowser.contentWindow;
@@ -1304,12 +1316,16 @@
   //页面加载Loading . 数据加载中 , 数据请求时机 ,页面调用会判断当前数据请求是否成功,请求中时加载loading . 请求成功时 ,关闭loading
   function _isLoading(){
     var currentWin = ysp.runtime.Browser.activeBrowser.contentWindow; //当前激活window . 
-    
   }
   utils.extend(ysp.customHelper, {
     //信息录入本地缓存部分
     informationEntry:{
       enterName:'', //录入客户名称
+      basic:{
+        'user':'',
+        'stock':''
+      },
+			isSave:false,
       saveData:'',
       enterSplit:function(url,str,num){
         if(!url){
@@ -1333,19 +1349,108 @@
           throw '请传入正确参数类型'+obj;
         }
         // 待客户端补充方法
+        if(ysp.customHelper.logLoginName =='' || ysp.customHelper.informationEntry.enterName == ''){
+          alert('用户名或客户编码缺失,无法执行保存操作');
+          return ;
+        }
+        var data = {'user':ysp.customHelper.logLoginName,'stock':this.enterName,'data':obj};
+        data = JSON.stringify(data);
         if(top.EAPI.isIOS()){
-          if(ysp.customHelper.logLoginName =='' || ysp.customHelper.informationEntry.enterName == ''){
-            alert('用户名或客户编码缺失,无法执行保存操作');
-            return ;
-          }
-          var data = {'user':ysp.customHelper.logLoginName,'stock':ysp.customHelper.informationEntry.enterName,'data':obj};
-          data = JSON.stringify(data);
           top.EAPI.postMessageToNative('saveData',data);
+        }else if(top.EAPI.isAndroid()){
+          top.yspCheckIn && top.yspCheckIn.insertData(data);
         }
       },
       getData:function(user,encoded){
+        if(!user && !encoded){
+          this.basic.user = ysp.customHelper.logLoginName;
+        	this.basic.stock = this.enterName;
+        }else{
+          var data = JSON.stringify({
+            'user':user,
+            'stock':encoded
+        	})
+        }
+        if(top.EAPI.isIOS()){
+          top.EAPI.postMessageToNative('getData',data);
+        }else if(top.EAPI.isAndroid()){
+          this.saveData = top.yspCheckIn.queryData(this.basic.user,this.basic.stock);
+          if(JSON.parse(this.saveData).data.length<1){
+            this.isSave = false;
+          }else{
+            this.isSave = true;
+          }
+        }
         // 待客户端补充方法
       },
+      deleteData:function(user,encoded){
+        if(!user && !encoded){
+          var data = this.basic;
+        }else{
+          var data = JSON.stringify({
+            'user':user,
+            'stock':encoded
+        	})
+        }
+        if(top.EAPI.isIOS()){
+          top.EAPI.postMessageToNative('deleteData',data);
+        }else if(top.EAPI.isAndroid()){
+          top.yspCheckIn.deleteData(this.basic.user,this.basic.stock);
+        }
+      },
+      backfill:function(doc,titles,obj){
+        if(!doc){
+          throw '未传入正确DOM';
+        }
+        if(!obj) throw '未找到数据,无法回填值!';
+        if(!doc.querySelector('thead')){
+          console.info('当前DOM中没有thead');
+          return ;
+    	  }
+        if(!doc.querySelector('tbody')){
+          console.info('当前DOM中没有tbody');
+          return ;
+        }
+        if(!doc.querySelector('tbody').querySelectorAll('tr')){
+          console.info('当前DOM中表格内容为空!');
+          return ;
+        }
+        obj = JSON.parse(obj);
+        var TH = doc.querySelectorAll('th').length>0?doc.querySelectorAll('th'):doc.querySelectorAll('td');
+        var TR = doc.querySelector('tbody').querySelectorAll('tr');
+        if(TR && TR.length>0){
+          this.isSave = false; //初始化是否回填状态,防止无限回填;
+        }
+        var currentTitle = {
+          'title':[],
+          'index':[]
+        };
+        var currnetData = [];
+        titles.some(function(value,index,arr){
+        	for(var i=0;i<TH.length;i++){
+            if(value == ysp.customHelper.trim(TH[i].textContent)){
+              currentTitle.title.push(value);
+              currentTitle.index.push(i);
+            }
+          }
+        })
+        for(var i = 0;i<TR.length;i++){
+          var TD = TR[i].querySelectorAll('td');
+          if(i == obj.data[i].index){
+            currentTitle.title.some(function(value,index,arr){
+              for(k in obj.data[i].content){
+                if(obj.data[i].content.hasOwnProperty(value)){
+                  if(TD[currentTitle.index[index]].querySelectorAll('input').length >0){
+                    TD[currentTitle.index[index]].querySelectorAll('input')[1].value = obj.data[i].content[value];
+                  }else{
+                    TD[currentTitle.index[index]].textContent = obj.data[i].content[value];
+                  }
+                }
+              }
+            })
+          }
+        }
+      },
       filterData:function(doc,titles,id){
         var tableStats = { 
         	'thead':true,
@@ -1355,9 +1460,6 @@
         if(!doc){
           throw '未传入正确DOM';
         }
-        // if(!(titles instanceof Array)){
-        //   console.error('titles必须为数组类型!');
-        // }
         if(id){
           this.id = id;
         }
diff --git a/CRM_NewPlatForm/manifest.json b/CRM_NewPlatForm/manifest.json
index 0774a0bf..9363a64b 100644
--- a/CRM_NewPlatForm/manifest.json
+++ b/CRM_NewPlatForm/manifest.json
@@ -714,6 +714,6 @@
   "default_url": "http://192.168.220.82:8080/pttlCrm/res/index.html",
   "scope": "CRM_NewPlatForm",
   "start_url": "http://192.168.220.82:8080/pttlCrm/res/index.html",
-  "update_time": 1557798651941,
+  "update_time": 1557985009513,
   "runtime_env": "1webview"
 }
\ No newline at end of file
diff --git a/CRM_NewPlatForm/plan/customerInformationFIll/index.js b/CRM_NewPlatForm/plan/customerInformationFIll/index.js
index c6fcd820..b0c1920d 100644
--- a/CRM_NewPlatForm/plan/customerInformationFIll/index.js
+++ b/CRM_NewPlatForm/plan/customerInformationFIll/index.js
@@ -39,8 +39,12 @@
     },
     doAction_uiControl176_cUGqtJ: function (data, elem) {
       if (data.eventType == "click") {
-        var A = elem.querySelector("tbody").querySelectorAll('a')[0].href;ysp.customHelper.informationEntry.enterName = ysp.customHelper.informationEntry.enterSplit(A, 'userId='); //以上为信息录入存储部分
-        ysp.customHelper.pageId();var i = data.dataCustom.i;var val = data.dataCustom.val;elem.querySelector("tbody").querySelectorAll("tr")[i].querySelectorAll("td")[val].querySelector("a").click();
+        var A = elem.querySelector("tbody").querySelectorAll('a')[0].href;ysp.customHelper.informationEntry.enterName = ysp.customHelper.informationEntry.enterSplit(A, 'userId=');var backfillData = JSON.stringify({ 'user': ysp.customHelper.logLoginName, 'stock': ysp.customHelper.informationEntry.enterName });if (top.EAPI.isIOS()) {
+          //top.EAPI.postMessageToNative('getData', backfillData);
+          ysp.customHelper.informationEntry.getData.call(top, ysp.customHelper.logLoginName, ysp.customHelper.informationEntry.enterName); //以上为信息录入存储部分
+        } else {
+          ysp.customHelper.informationEntry.getData();
+        }ysp.customHelper.pageId();var i = data.dataCustom.i;var val = data.dataCustom.val;elem.querySelector("tbody").querySelectorAll("tr")[i].querySelectorAll("td")[val].querySelector("a").click();
       }if (data.eventType == "showLoading") {
         // setTimeout(function () {
         //   ysp.appMain.showLoading();
diff --git a/CRM_NewPlatForm/plan/index/index.json b/CRM_NewPlatForm/plan/index/index.json
index c926e416..698fddc5 100644
--- a/CRM_NewPlatForm/plan/index/index.json
+++ b/CRM_NewPlatForm/plan/index/index.json
@@ -1921,6 +1921,105 @@
             "timeShow",
             "useIframeLoginPtBigDashboard",
             "useIframeLoginPtDatsShow"
+          ],
+          [
+            "ACHIEVEMENT_BIGCUSTOMERVIEW",
+            "BFGLBB",
+            "CPDC_YD",
+            "CUSTOMER_STORE_REPORT",
+            "ENTRY_DATA_TOTLE",
+            "GZT_YD",
+            "GZZJ_YD",
+            "ImIframe",
+            "InfoIframe",
+            "KHMDDC_YD",
+            "KH_YD",
+            "MD_YD",
+            "PREF_TOTAL",
+            "PROD_REPORT",
+            "PSI_PANDECT",
+            "PSI_REPORT",
+            "RESULT_INFO",
+            "SALE_REPORT",
+            "STORENEW",
+            "VISIT_MANAGE",
+            "VISIT_TOTAL",
+            "VISIT_WORKSPACE",
+            "WJTX_YD",
+            "XXLR",
+            "YJDCBB",
+            "brandHeader",
+            "contentContainer",
+            "cs_customerAndStore",
+            "currentUserName",
+            "dataShowColection",
+            "docs-pictures",
+            "headBackImage",
+            "ibars-iforms-box",
+            "iframeTextName",
+            "info_manager",
+            "layui-layer",
+            "logout",
+            "menu",
+            "mod-sideBar",
+            "myReport",
+            "newCustomerList",
+            "noticeNum_",
+            "notice_informs",
+            "projectcustreport",
+            "sidebarGroove",
+            "timeShow",
+            "useIframeLoginPtBigDashboard",
+            "useIframeLoginPtDatsShow"
+          ],
+          [
+            "ACHIEVEMENT_BIGCUSTOMERVIEW",
+            "BFGLBB",
+            "CPDC_YD",
+            "CUSTOMER_STORE_REPORT",
+            "ENTRY_DATA_TOTLE",
+            "GZT_YD",
+            "GZZJ_YD",
+            "ImIframe",
+            "InfoIframe",
+            "KHMDDC_YD",
+            "KH_YD",
+            "MD_YD",
+            "PREF_TOTAL",
+            "PROD_REPORT",
+            "PSI_PANDECT",
+            "PSI_REPORT",
+            "RESULT_INFO",
+            "SALE_REPORT",
+            "STORENEW",
+            "VISIT_MANAGE",
+            "VISIT_TOTAL",
+            "VISIT_WORKSPACE",
+            "WJTX_YD",
+            "XXLR",
+            "YJDCBB",
+            "brandHeader",
+            "contentContainer",
+            "cs_customerAndStore",
+            "currentUserName",
+            "dataShowColection",
+            "docs-pictures",
+            "headBackImage",
+            "ibars-iforms-box",
+            "iframeTextName",
+            "info_manager",
+            "logout",
+            "menu",
+            "mod-sideBar",
+            "myReport",
+            "newCustomerList",
+            "noticeNum_",
+            "notice_informs",
+            "projectcustreport",
+            "sidebarGroove",
+            "timeShow",
+            "useIframeLoginPtBigDashboard",
+            "useIframeLoginPtDatsShow"
           ]
         ],
         "context2_15cCKI": [
diff --git a/CRM_NewPlatForm/plan/infomationInput/index.js b/CRM_NewPlatForm/plan/infomationInput/index.js
index b9bf190e..ef3e85e0 100644
--- a/CRM_NewPlatForm/plan/infomationInput/index.js
+++ b/CRM_NewPlatForm/plan/infomationInput/index.js
@@ -131,12 +131,12 @@
       } else if (data.eventType === 'changeI') {
         var index = data.dataCustom[0];var value = data.dataCustom[1];var target = $(elem).find('tbody').children('tr').eq(index).children('td').eq(8).find('input').eq(1).val(value);
       } else if (data.eventType === 'click') {
-        var target = elem.ownerDocument.querySelector('#savePsiSpan');target.click();
+        ysp.customHelper.informationEntry.deleteData();var target = elem.ownerDocument.querySelector('#savePsiSpan');target.click();
       }
     },
     getTemplate_uiControl198_cZXWTf: function () {
       var selfTemplate = 'module.exports = React.createClass({\n  // onclick:function(e){\n  //   var target=e.target;\n  //   var handler=this.props.customHandler;\n  //   if(handler){\n  //     handler({\n  //       data:target.getAttribute(\'data-index\'),\n  //       eventType:\'click\'\n  //     })\n  //   }\n  // },\n  \n  onchangeI:function(e){\n    var target=e.target;\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        data:[target.getAttribute(\'data-index\'),target.value.replace(/[^0-9]/g,\'\')],\n        eventType:\'changeI\'\n      })\n    }\n  },\n  onchangeSO:function(e){\n    var target=e.target;\n    target.value = target.value.replace(/[^0-9]/g,\'\')\n    var handler=this.props.customHandler;\n    if(handler){\n      handler({\n        data:[target.getAttribute(\'data-index\'),target.value],\n        eventType:\'changeSO\'\n      })\n    }\n  },\n  onclick:function(e){\n    var target=e.target;\n    var handler=this.props.customHandler;\n    target.disabled = true;\n    setTimeout(function(e){\n      target.disabled = false;\n    },1500)\n    if(handler){\n       handler({\n         eventType:\'click\'\n       })\n    }\n  },\n  render: function() {\n    var data=this.props.customData || [];\n    var _this=this;\n    return (\n      <div>\n        <div className="ysp-client-store-name">\n          <span>\u5BA2\u6237\u540D\u79F0\uFF1A</span>\n          <span>{data[0]}</span>\n        </div>\n        <div className="ysp_clientInfoFill_dayPSI">\n          {\n            data && data.map(function(elem,idx){\n              if(elem && elem.cjSO==\'0\' && elem.cjI==\'1\'){        \n                   return(\n                      <div className=\'list_ltt\'>\n                          <p className=\'listtop_ltt\'>\n                            <span>{elem.xm}</span>\n                            <span>{elem.xmtime}</span>\n                         </p>\n                         <div className=\'listContent_ltt\'>\n                            <span>\u4EFB\u52A1\u9879\uFF1A</span>\n                            <span>{elem.rwx1}</span>\n                            <span>{elem.rwx2}</span>\n                            <span>{elem.rwxcolor}</span>\n                         </div>\n                       \t <div className="listOpening_ltt">\n                           <span>\u671F\u521D\u5E93\u5B58:</span>\n                           <span>{elem.opening}</span>\n                       \t </div>\n                         <div className=\'listContentput_ltt\'>\n                           <p className=\'listContentputleft_ltt\'>\n                              <span>SO</span>\n                            <input data-index={idx} type=\'text\' onChange={_this.onchangeSO.bind(_this)} className=\'inputWrite_ltt\' value={elem.cjSOval}/>\n                           </p>\n                            <p className=\'listContentputright_ltt\'>\n                              <span className=\'gray_ltt\'>I</span>\n                            <input data-index={idx} type=\'text\' readOnly="readonly" value={elem.cjIcon}/>\n                           </p>\n\n                        </div>\n                      </div>\n                 )\n              }else if(elem && elem.cjSO==\'0\' && elem.cjI==\'0\'){\n                return(\n                      <div className=\'list_ltt\'>\n                          <p className=\'listtop_ltt\'>\n                            <span>{elem.xm}</span>\n                            <span>{elem.xmtime}</span>\n                         </p>\n                         <div className=\'listContent_ltt\'>\n                            <span>\u4EFB\u52A1\u9879\uFF1A</span>\n                            <span>{elem.rwx1}</span>\n                            <span>{elem.rwx2}</span>\n                            <span>{elem.rwxcolor}</span>\n                         </div>\n                    \t\t <div className="listOpening_ltt">\n                           <span>\u671F\u521D\u5E93\u5B58:</span>\n                           <span>{elem.opening}</span>\n                       \t </div>\n                         <div className=\'listContentput_ltt\'>\n                           <p className=\'listContentputleft_ltt\'>\n                           <span>SO</span>\n                            <input data-index={idx} type=\'text\' onChange={_this.onchangeSO.bind(_this)} className=\'inputWrite_ltt\' value={elem.cjSOval}/>\n                           </p>\n                           <p className=\'listContentputright_ltt\'>\n                              <span className=\'gray_ltt\'>I</span>\n                            <input data-index={idx} type=\'text\' onChange={_this.onchangeI.bind(_this)} className=\'inputWrite_ltt\' value={elem.cjIval}/>\n                           </p>\n\n                        </div>\n                      </div>\n                 )\n              }else if(elem && elem.cjSO==\'1\' && elem.cjI==\'0\'){\n                     return(\n                      <div className=\'list_ltt\'>\n                          <p className=\'listtop_ltt\'>\n                            <span>{elem.xm}</span>\n                            <span>{elem.xmtime}</span>\n                         </p>\n                         <div className=\'listContent_ltt\'>\n                            <span>\u4EFB\u52A1\u9879\uFF1A</span>\n                            <span>{elem.rwx1}</span>\n                            <span>{elem.rwx2}</span>\n                            <span>{elem.rwxcolor}</span>\n                         </div>\n                         <div className="listOpening_ltt">\n                           <span>\u671F\u521D\u5E93\u5B58:</span>\n                           <span>{elem.opening}</span>\n                       \t </div>\n                         <div className=\'listContentput_ltt\'>\n                           <p className=\'listContentputleft_ltt\'>\n                            <span>SO</span>\n                            <input data-index={idx} type=\'text\' readOnly="readonly" value={elem.cjSOcon}/>\n                            </p>\n                           <p className=\'listContentputright_ltt\'>\n                            <span className=\'gray_ltt\'>I</span>\n                            <input data-index={idx} type=\'text\' onChange={_this.onchangeI.bind(_this)} className=\'inputWrite_ltt\' value={elem.cjIval}/>\n                             </p>\n                        </div>\n                      </div>\n                 )  \n              }else if(elem && elem.cjSO==\'1\' && elem.cjI==\'1\'){\n                return(\n                      <div className=\'list_ltt\'>\n                          <p className=\'listtop_ltt\'>\n                            <span>{elem.xm}</span>\n                            <span>{elem.xmtime}</span>\n                         </p>\n                         <div className=\'listContent_ltt\'>\n                            <span>\u4EFB\u52A1\u9879\uFF1A</span>\n                            <span>{elem.rwx1}</span>\n                            <span>{elem.rwx2}</span>\n                            <span>{elem.rwxcolor}</span>\n                         </div>\n                    \t\t <div className="listOpening_ltt">\n                           <span>\u671F\u521D\u5E93\u5B58:</span>\n                           <span>{elem.opening}</span>\n                       \t </div>\n                         <div className=\'listContentput_ltt\'>\n                           <p className=\'listContentputleft_ltt\'>\n                            <span>SO</span>\n                            <input data-index={idx} type=\'text\' readOnly="readonly" value={elem.cjSOcon}/>\n                             </p>\n                           <p className=\'listContentputright_ltt\'>\n                            <span className=\'gray_ltt\'>I</span>\n                            <input data-index={idx} type=\'text\' readOnly="readonly" value={elem.cjIcon}/>\n                             </p>\n                        </div>\n                      </div>\n                 )\n              }\n\n            if(elem && elem.cjSO==\'2\'){\n                return(\n                      <div className=\'list_ltt\'>\n                          <p className=\'listtop_ltt\'>\n                            <span>{elem.xm}</span>\n                            <span>{elem.xmtime}</span>\n                         </p>\n                         <div className=\'listContent_ltt\'>\n                            <span>\u4EFB\u52A1\u9879\uFF1A</span>\n                            <span>{elem.rwx1}</span>\n                            <span>{elem.rwx2}</span>\n                            <span>{elem.rwxcolor}</span>\n                         </div>\n                    \t\t <div className="listOpening_ltt">\n                           <span>\u671F\u521D\u5E93\u5B58:</span>\n                           <span>{elem.opening}</span>\n                       \t </div>\n                         <div className=\'listContentput_ltt\'>\n                           <p className=\'listContentputleft_ltt\'>\n                            <span>SO</span>\n                           <span className=\'listContentputleftNum_ltt\'>{elem.cjSOcon}</span>\n                             </p>\n                           <p className=\'listContentputright_ltt\'>\n                            <span className=\'gray_ltt\'>I</span>\n                            <input data-index={idx} type=\'text\' readOnly="readonly" value={elem.cjIcon}/>\n                             </p>\n                        </div>\n                      </div>\n                 )\n              }\n              if(elem && elem.cjI==\'2\'){\n                return(\n                      <div className=\'list_ltt\'>\n                          <p className=\'listtop_ltt\'>\n                            <span>{elem.xm}</span>\n                            <span>{elem.xmtime}</span>\n                         </p>\n                         <div className=\'listContent_ltt\'>\n                            <span>\u4EFB\u52A1\u9879\uFF1A</span>\n                            <span>{elem.rwx1}</span>\n                            <span>{elem.rwx2}</span>\n                            <span>{elem.rwxcolor}</span>\n                         </div>\n                    \t\t <div className="listOpening_ltt">\n                           <span>\u671F\u521D\u5E93\u5B58:</span>\n                           <span>{elem.opening}</span>\n                       \t </div>\n                         <div className=\'listContentput_ltt\'>\n                             <p className=\'listContentputleft_ltt\'>\n                              <span>SO</span>\n                               <input data-index={idx} type=\'text\' readOnly="readonly" value={elem.cjSOcon}/>                \t\t\t\t\t</p>\n                           <p className=\'listContentputright_ltt\'>\n                            <span className=\'gray_ltt\'>I</span>\n                             <span className=\'listContentputleftNum_ltt\'>{elem.cjIcon}</span>                                         \n                           </p>\n                        </div>\n                      </div>\n                 )\n              }\n              if(elem && elem.cjSO==\'3\' && data[1] == null){\n                return (\n                  <div className="ysp-no-datas">\n                    <div></div>\n                    <div>\u6682\u65F6\u6CA1\u6709\u6570\u636E~</div>\n                  </div>\n                )\n              }\n            })\n          }\n          {\n            data[2] && data[2].cjSO == \'3\' ? <div></div> : <div className="ysp-dayPSI-save-ltt">\n            <button className=\'save_ltt\' onClick={_this.onclick}>\n              \u63D0\u4EA4\n            </button>\n          </div>\n          }\n        </div>\n      </div>\n      \n    )\n  }\n});';
-      return "'use strict';\n\nmodule.exports = React.createClass({\n  displayName: 'exports',\n\n  // onclick:function(e){\n  //   var target=e.target;\n  //   var handler=this.props.customHandler;\n  //   if(handler){\n  //     handler({\n  //       data:target.getAttribute('data-index'),\n  //       eventType:'click'\n  //     })\n  //   }\n  // },\n\n  onchangeI: function onchangeI(e) {\n    var target = e.target;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        data: [target.getAttribute('data-index'), target.value.replace(/[^0-9]/g, '')],\n        eventType: 'changeI'\n      });\n    }\n  },\n  onchangeSO: function onchangeSO(e) {\n    var target = e.target;\n    target.value = target.value.replace(/[^0-9]/g, '');\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        data: [target.getAttribute('data-index'), target.value],\n        eventType: 'changeSO'\n      });\n    }\n  },\n  onclick: function onclick(e) {\n    var target = e.target;\n    var handler = this.props.customHandler;\n    target.disabled = true;\n    setTimeout(function (e) {\n      target.disabled = false;\n    }, 1500);\n    if (handler) {\n      handler({\n        eventType: 'click'\n      });\n    }\n  },\n  render: function render() {\n    var data = this.props.customData || [];\n    var _this = this;\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'ysp-client-store-name' },\n        React.createElement(\n          'span',\n          null,\n          '\\u5BA2\\u6237\\u540D\\u79F0\\uFF1A'\n        ),\n        React.createElement(\n          'span',\n          null,\n          data[0]\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'ysp_clientInfoFill_dayPSI' },\n        data && data.map(function (elem, idx) {\n          if (elem && elem.cjSO == '0' && elem.cjI == '1') {\n            return React.createElement(\n              'div',\n              { className: 'list_ltt' },\n              React.createElement(\n                'p',\n                { className: 'listtop_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContent_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u4EFB\\u52A1\\u9879\\uFF1A'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listOpening_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u671F\\u521D\\u5E93\\u5B58:'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContentput_ltt' },\n                React.createElement(\n                  'p',\n                  { className: 'listContentputleft_ltt' },\n                  React.createElement(\n                    'span',\n                    null,\n                    'SO'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', onChange: _this.onchangeSO.bind(_this), className: 'inputWrite_ltt', value: elem.cjSOval })\n                ),\n                React.createElement(\n                  'p',\n                  { className: 'listContentputright_ltt' },\n                  React.createElement(\n                    'span',\n                    { className: 'gray_ltt' },\n                    'I'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', readOnly: 'readonly', value: elem.cjIcon })\n                )\n              )\n            );\n          } else if (elem && elem.cjSO == '0' && elem.cjI == '0') {\n            return React.createElement(\n              'div',\n              { className: 'list_ltt' },\n              React.createElement(\n                'p',\n                { className: 'listtop_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContent_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u4EFB\\u52A1\\u9879\\uFF1A'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listOpening_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u671F\\u521D\\u5E93\\u5B58:'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContentput_ltt' },\n                React.createElement(\n                  'p',\n                  { className: 'listContentputleft_ltt' },\n                  React.createElement(\n                    'span',\n                    null,\n                    'SO'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', onChange: _this.onchangeSO.bind(_this), className: 'inputWrite_ltt', value: elem.cjSOval })\n                ),\n                React.createElement(\n                  'p',\n                  { className: 'listContentputright_ltt' },\n                  React.createElement(\n                    'span',\n                    { className: 'gray_ltt' },\n                    'I'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', onChange: _this.onchangeI.bind(_this), className: 'inputWrite_ltt', value: elem.cjIval })\n                )\n              )\n            );\n          } else if (elem && elem.cjSO == '1' && elem.cjI == '0') {\n            return React.createElement(\n              'div',\n              { className: 'list_ltt' },\n              React.createElement(\n                'p',\n                { className: 'listtop_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContent_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u4EFB\\u52A1\\u9879\\uFF1A'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listOpening_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u671F\\u521D\\u5E93\\u5B58:'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContentput_ltt' },\n                React.createElement(\n                  'p',\n                  { className: 'listContentputleft_ltt' },\n                  React.createElement(\n                    'span',\n                    null,\n                    'SO'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', readOnly: 'readonly', value: elem.cjSOcon })\n                ),\n                React.createElement(\n                  'p',\n                  { className: 'listContentputright_ltt' },\n                  React.createElement(\n                    'span',\n                    { className: 'gray_ltt' },\n                    'I'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', onChange: _this.onchangeI.bind(_this), className: 'inputWrite_ltt', value: elem.cjIval })\n                )\n              )\n            );\n          } else if (elem && elem.cjSO == '1' && elem.cjI == '1') {\n            return React.createElement(\n              'div',\n              { className: 'list_ltt' },\n              React.createElement(\n                'p',\n                { className: 'listtop_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContent_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u4EFB\\u52A1\\u9879\\uFF1A'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listOpening_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u671F\\u521D\\u5E93\\u5B58:'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContentput_ltt' },\n                React.createElement(\n                  'p',\n                  { className: 'listContentputleft_ltt' },\n                  React.createElement(\n                    'span',\n                    null,\n                    'SO'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', readOnly: 'readonly', value: elem.cjSOcon })\n                ),\n                React.createElement(\n                  'p',\n                  { className: 'listContentputright_ltt' },\n                  React.createElement(\n                    'span',\n                    { className: 'gray_ltt' },\n                    'I'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', readOnly: 'readonly', value: elem.cjIcon })\n                )\n              )\n            );\n          }\n\n          if (elem && elem.cjSO == '2') {\n            return React.createElement(\n              'div',\n              { className: 'list_ltt' },\n              React.createElement(\n                'p',\n                { className: 'listtop_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContent_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u4EFB\\u52A1\\u9879\\uFF1A'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listOpening_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u671F\\u521D\\u5E93\\u5B58:'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContentput_ltt' },\n                React.createElement(\n                  'p',\n                  { className: 'listContentputleft_ltt' },\n                  React.createElement(\n                    'span',\n                    null,\n                    'SO'\n                  ),\n                  React.createElement(\n                    'span',\n                    { className: 'listContentputleftNum_ltt' },\n                    elem.cjSOcon\n                  )\n                ),\n                React.createElement(\n                  'p',\n                  { className: 'listContentputright_ltt' },\n                  React.createElement(\n                    'span',\n                    { className: 'gray_ltt' },\n                    'I'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', readOnly: 'readonly', value: elem.cjIcon })\n                )\n              )\n            );\n          }\n          if (elem && elem.cjI == '2') {\n            return React.createElement(\n              'div',\n              { className: 'list_ltt' },\n              React.createElement(\n                'p',\n                { className: 'listtop_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContent_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u4EFB\\u52A1\\u9879\\uFF1A'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listOpening_ltt' },\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u671F\\u521D\\u5E93\\u5B58:'\n                ),\n                React.createElement(\n                  'span',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                'div',\n                { className: 'listContentput_ltt' },\n                React.createElement(\n                  'p',\n                  { className: 'listContentputleft_ltt' },\n                  React.createElement(\n                    'span',\n                    null,\n                    'SO'\n                  ),\n                  React.createElement('input', { 'data-index': idx, type: 'text', readOnly: 'readonly', value: elem.cjSOcon }),\n                  '                     '\n                ),\n                React.createElement(\n                  'p',\n                  { className: 'listContentputright_ltt' },\n                  React.createElement(\n                    'span',\n                    { className: 'gray_ltt' },\n                    'I'\n                  ),\n                  React.createElement(\n                    'span',\n                    { className: 'listContentputleftNum_ltt' },\n                    elem.cjIcon\n                  )\n                )\n              )\n            );\n          }\n          if (elem && elem.cjSO == '3' && data[1] == null) {\n            return React.createElement(\n              'div',\n              { className: 'ysp-no-datas' },\n              React.createElement('div', null),\n              React.createElement(\n                'div',\n                null,\n                '\\u6682\\u65F6\\u6CA1\\u6709\\u6570\\u636E~'\n              )\n            );\n          }\n        }),\n        data[2] && data[2].cjSO == '3' ? React.createElement('div', null) : React.createElement(\n          'div',\n          { className: 'ysp-dayPSI-save-ltt' },\n          React.createElement(\n            'button',\n            { className: 'save_ltt', onClick: _this.onclick },\n            '\\u63D0\\u4EA4'\n          )\n        )\n      )\n    );\n  }\n});";
+      return '\'use strict\';\n\nmodule.exports = React.createClass({\n  displayName: \'exports\',\n\n  // onclick:function(e){\n  //   var target=e.target;\n  //   var handler=this.props.customHandler;\n  //   if(handler){\n  //     handler({\n  //       data:target.getAttribute(\'data-index\'),\n  //       eventType:\'click\'\n  //     })\n  //   }\n  // },\n\n  onchangeI: function onchangeI(e) {\n    var target = e.target;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        data: [target.getAttribute(\'data-index\'), target.value.replace(/[^0-9]/g, \'\')],\n        eventType: \'changeI\'\n      });\n    }\n  },\n  onchangeSO: function onchangeSO(e) {\n    var target = e.target;\n    target.value = target.value.replace(/[^0-9]/g, \'\');\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        data: [target.getAttribute(\'data-index\'), target.value],\n        eventType: \'changeSO\'\n      });\n    }\n  },\n  onclick: function onclick(e) {\n    var target = e.target;\n    var handler = this.props.customHandler;\n    target.disabled = true;\n    setTimeout(function (e) {\n      target.disabled = false;\n    }, 1500);\n    if (handler) {\n      handler({\n        eventType: \'click\'\n      });\n    }\n  },\n  render: function render() {\n    var data = this.props.customData || [];\n    var _this = this;\n    return React.createElement(\n      \'div\',\n      null,\n      React.createElement(\n        \'div\',\n        { className: \'ysp-client-store-name\' },\n        React.createElement(\n          \'span\',\n          null,\n          \'\\u5BA2\\u6237\\u540D\\u79F0\\uFF1A\'\n        ),\n        React.createElement(\n          \'span\',\n          null,\n          data[0]\n        )\n      ),\n      React.createElement(\n        \'div\',\n        { className: \'ysp_clientInfoFill_dayPSI\' },\n        data && data.map(function (elem, idx) {\n          if (elem && elem.cjSO == \'0\' && elem.cjI == \'1\') {\n            return React.createElement(\n              \'div\',\n              { className: \'list_ltt\' },\n              React.createElement(\n                \'p\',\n                { className: \'listtop_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContent_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u4EFB\\u52A1\\u9879\\uFF1A\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listOpening_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u671F\\u521D\\u5E93\\u5B58:\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContentput_ltt\' },\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputleft_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    null,\n                    \'SO\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', onChange: _this.onchangeSO.bind(_this), className: \'inputWrite_ltt\', value: elem.cjSOval })\n                ),\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputright_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    { className: \'gray_ltt\' },\n                    \'I\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', readOnly: \'readonly\', value: elem.cjIcon })\n                )\n              )\n            );\n          } else if (elem && elem.cjSO == \'0\' && elem.cjI == \'0\') {\n            return React.createElement(\n              \'div\',\n              { className: \'list_ltt\' },\n              React.createElement(\n                \'p\',\n                { className: \'listtop_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContent_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u4EFB\\u52A1\\u9879\\uFF1A\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listOpening_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u671F\\u521D\\u5E93\\u5B58:\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContentput_ltt\' },\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputleft_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    null,\n                    \'SO\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', onChange: _this.onchangeSO.bind(_this), className: \'inputWrite_ltt\', value: elem.cjSOval })\n                ),\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputright_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    { className: \'gray_ltt\' },\n                    \'I\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', onChange: _this.onchangeI.bind(_this), className: \'inputWrite_ltt\', value: elem.cjIval })\n                )\n              )\n            );\n          } else if (elem && elem.cjSO == \'1\' && elem.cjI == \'0\') {\n            return React.createElement(\n              \'div\',\n              { className: \'list_ltt\' },\n              React.createElement(\n                \'p\',\n                { className: \'listtop_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContent_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u4EFB\\u52A1\\u9879\\uFF1A\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listOpening_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u671F\\u521D\\u5E93\\u5B58:\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContentput_ltt\' },\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputleft_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    null,\n                    \'SO\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', readOnly: \'readonly\', value: elem.cjSOcon })\n                ),\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputright_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    { className: \'gray_ltt\' },\n                    \'I\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', onChange: _this.onchangeI.bind(_this), className: \'inputWrite_ltt\', value: elem.cjIval })\n                )\n              )\n            );\n          } else if (elem && elem.cjSO == \'1\' && elem.cjI == \'1\') {\n            return React.createElement(\n              \'div\',\n              { className: \'list_ltt\' },\n              React.createElement(\n                \'p\',\n                { className: \'listtop_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContent_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u4EFB\\u52A1\\u9879\\uFF1A\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listOpening_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u671F\\u521D\\u5E93\\u5B58:\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContentput_ltt\' },\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputleft_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    null,\n                    \'SO\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', readOnly: \'readonly\', value: elem.cjSOcon })\n                ),\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputright_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    { className: \'gray_ltt\' },\n                    \'I\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', readOnly: \'readonly\', value: elem.cjIcon })\n                )\n              )\n            );\n          }\n\n          if (elem && elem.cjSO == \'2\') {\n            return React.createElement(\n              \'div\',\n              { className: \'list_ltt\' },\n              React.createElement(\n                \'p\',\n                { className: \'listtop_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContent_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u4EFB\\u52A1\\u9879\\uFF1A\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listOpening_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u671F\\u521D\\u5E93\\u5B58:\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContentput_ltt\' },\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputleft_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    null,\n                    \'SO\'\n                  ),\n                  React.createElement(\n                    \'span\',\n                    { className: \'listContentputleftNum_ltt\' },\n                    elem.cjSOcon\n                  )\n                ),\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputright_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    { className: \'gray_ltt\' },\n                    \'I\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', readOnly: \'readonly\', value: elem.cjIcon })\n                )\n              )\n            );\n          }\n          if (elem && elem.cjI == \'2\') {\n            return React.createElement(\n              \'div\',\n              { className: \'list_ltt\' },\n              React.createElement(\n                \'p\',\n                { className: \'listtop_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xm\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.xmtime\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContent_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u4EFB\\u52A1\\u9879\\uFF1A\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx1\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwx2\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.rwxcolor\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listOpening_ltt\' },\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u671F\\u521D\\u5E93\\u5B58:\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  elem.opening\n                )\n              ),\n              React.createElement(\n                \'div\',\n                { className: \'listContentput_ltt\' },\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputleft_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    null,\n                    \'SO\'\n                  ),\n                  React.createElement(\'input\', { \'data-index\': idx, type: \'text\', readOnly: \'readonly\', value: elem.cjSOcon }),\n                  \'                     \'\n                ),\n                React.createElement(\n                  \'p\',\n                  { className: \'listContentputright_ltt\' },\n                  React.createElement(\n                    \'span\',\n                    { className: \'gray_ltt\' },\n                    \'I\'\n                  ),\n                  React.createElement(\n                    \'span\',\n                    { className: \'listContentputleftNum_ltt\' },\n                    elem.cjIcon\n                  )\n                )\n              )\n            );\n          }\n          if (elem && elem.cjSO == \'3\' && data[1] == null) {\n            return React.createElement(\n              \'div\',\n              { className: \'ysp-no-datas\' },\n              React.createElement(\'div\', null),\n              React.createElement(\n                \'div\',\n                null,\n                \'\\u6682\\u65F6\\u6CA1\\u6709\\u6570\\u636E~\'\n              )\n            );\n          }\n        }),\n        data[2] && data[2].cjSO == \'3\' ? React.createElement(\'div\', null) : React.createElement(\n          \'div\',\n          { className: \'ysp-dayPSI-save-ltt\' },\n          React.createElement(\n            \'button\',\n            { className: \'save_ltt\', onClick: _this.onclick },\n            \'\\u63D0\\u4EA4\'\n          )\n        )\n      )\n    );\n  }\n});';
     },
     getData_control377_epo1DG: function (elem) {
       if (!elem) {
@@ -151,8 +151,22 @@
       }
     },
     getTemplate_uiControl363_yyGTNA: function () {
-      var selfTemplate = 'module.exports = React.createClass({\n  render: function() {\n    return (\n      <div onClick={()=>{\n          const {customHandler} = this.props;\n          customHandler({\n            eventType:\'saveEnterData\'\n          })\n        }}>\n \xA0 \xA0 \xA0 \xA0\u4FDD\u5B58\n \xA0 \xA0 \xA0</div>\n    )\n  }\n});';
-      return '\'use strict\';\n\nmodule.exports = React.createClass({\n  displayName: \'exports\',\n\n  render: function render() {\n    var _this = this;\n\n    return React.createElement(\n      \'div\',\n      { onClick: function onClick() {\n          var customHandler = _this.props.customHandler;\n\n          customHandler({\n            eventType: \'saveEnterData\'\n          });\n        } },\n      \'\\xA0 \\xA0 \\xA0 \\xA0\\u4FDD\\u5B58 \\xA0 \\xA0 \\xA0\'\n    );\n  }\n});';
+      var selfTemplate = 'module.exports = React.createClass({\n  render: function() {\n    return (\n      <div style={{margin:\'10px\',fontSize:\'20px\'}} onClick={()=>{\n          const {customHandler} = this.props;\n          customHandler({\n            eventType:\'saveEnterData\'\n          })\n        }}>\n \xA0 \xA0 \xA0 \xA0\u4FDD\u5B58\n \xA0 \xA0 \xA0</div>\n    )\n  }\n});';
+      return '\'use strict\';\n\nmodule.exports = React.createClass({\n  displayName: \'exports\',\n\n  render: function render() {\n    var _this = this;\n\n    return React.createElement(\n      \'div\',\n      { style: { margin: \'10px\', fontSize: \'20px\' }, onClick: function onClick() {\n          var customHandler = _this.props.customHandler;\n\n          customHandler({\n            eventType: \'saveEnterData\'\n          });\n        } },\n      \'\\xA0 \\xA0 \\xA0 \\xA0\\u4FDD\\u5B58 \\xA0 \\xA0 \\xA0\'\n    );\n  }\n});';
+    },
+    getData_control379_FaJ7bh: function (elem) {
+      if (!elem) return;if (ysp.customHelper.informationEntry.isSave) {
+        ysp.customHelper.informationEntry.backfill(elem, ['采集SO', '采集I'], ysp.customHelper.informationEntry.saveData);
+      }return ysp.customHelper.informationEntry.isSave;
+    },
+    doAction_uiControl365_VArUX4: function (data, elem) {
+      if (data.eventType == 'click') {
+        ysp.customHelper.informationEntry.backfill(elem, ['采集SO', '采集I'], ysp.customHelper.informationEntry.saveData);
+      }
+    },
+    getTemplate_uiControl365_VArUX4: function () {
+      var selfTemplate = 'module.exports = React.createClass({\n  componentDidMount:function(){\n    if(this.props.customData){\n      const {customHandler} = this.props;\n      customHandler({\n \xA0 \xA0 \xA0 \xA0\'eventType\':\'click\'\n      })\n    }\n  },\n \xA0render: function() {\n    return (\n      <div>\n \xA0 \xA0 \xA0 \xA0\u6D4B\u8BD5\n \xA0 \xA0 \xA0</div>\n    )\n  }\n});';
+      return '\'use strict\';\n\nmodule.exports = React.createClass({\n  displayName: \'exports\',\n\n  componentDidMount: function componentDidMount() {\n    if (this.props.customData) {\n      var customHandler = this.props.customHandler;\n\n      customHandler({\n        \'eventType\': \'click\'\n      });\n    }\n  },\n  render: function render() {\n    return React.createElement(\n      \'div\',\n      null,\n      \'\\xA0 \\xA0 \\xA0 \\xA0\\u6D4B\\u8BD5 \\xA0 \\xA0 \\xA0\'\n    );\n  }\n});';
     }
   }, "infomationInput");
 })(window, ysp);
\ No newline at end of file
diff --git a/CRM_NewPlatForm/plan/infomationInput/index.json b/CRM_NewPlatForm/plan/infomationInput/index.json
index 23298849..128e2b70 100644
--- a/CRM_NewPlatForm/plan/infomationInput/index.json
+++ b/CRM_NewPlatForm/plan/infomationInput/index.json
@@ -214,6 +214,45 @@
       "monitored": false,
       "frameXPath": "",
       "componentType": "custom"
+    },
+    "control379_FaJ7bh": {
+      "location": {
+        "data": {
+          "tagName": "TABLE"
+        },
+        "userData": {
+          "data": [],
+          "force": false
+        },
+        "locators": [
+          {
+            "id": "@id/word",
+            "prob": 3,
+            "value": [
+              "descendant::DIV[@id=\"dayPSI\"]//TABLE[@id=\"psiEnterTable\"]",
+              "descendant::TABLE[@id=\"psiEnterTable\"]"
+            ]
+          },
+          {
+            "id": "@class/word",
+            "prob": 1,
+            "value": "DIV.collectionPSIentercontent DIV.collectionPSIentercontentborder TABLE.table.collectionPSI-table"
+          },
+          {
+            "id": "path/ordinal",
+            "prob": 1,
+            "value": "/HTML[1]/BODY[1]/DIV[1]/DIV[2]/DIV[2]/TABLE[1]"
+          }
+        ]
+      },
+      "events": {
+        "onGetData": "getData_control379_FaJ7bh"
+      },
+      "intendedRole": "custom",
+      "roles": "element,link,custom",
+      "monitored": true,
+      "frameXPath": "",
+      "componentType": "custom"
     }
   },
   "contexts": {
@@ -223,7 +262,8 @@
         "control212_Cymneo",
         "control213_TwrNlh",
         "control204_50rAzZ",
-        "control377_epo1DG"
+        "control377_epo1DG",
+        "control379_FaJ7bh"
       ],
       "anchors": [],
       "urlAnchor": [
@@ -296,12 +336,37 @@
           "toContextId": "context53_oR8JhD"
         }
       ]
+    },
+    "flow299_TbVFcE": {
+      "fromContextId": "context53_oR8JhD",
+      "fromAction": "doAction",
+      "fromControlId": "control379_FaJ7bh",
+      "toContexts": [
+        {
+          "toContextId": "context53_oR8JhD"
+        }
+      ]
     }
   },
   "pages": {
     "page53_OMoPAA": {
       "contextId": "context53_oR8JhD",
       "layout": [
+        {
+          "id": "uiControl210_CVeeGa",
+          "controlId": "control213_TwrNlh",
+          "display": {
+            "adapterId": "custom",
+            "type": "custom",
+            "adapter": {
+              "templateType": "react",
+              "events": {
+                "onDoAction": "doAction_uiControl210_CVeeGa",
+                "onGetTemplate": "getTemplate_uiControl210_CVeeGa"
+              }
+            }
+          }
+        },
         {
           "id": "uiControl187_1hG0iv",
           "controlId": "control190_oOp3N1",
@@ -363,16 +428,16 @@
           }
         },
         {
-          "id": "uiControl210_CVeeGa",
-          "controlId": "control213_TwrNlh",
+          "id": "uiControl365_VArUX4",
+          "controlId": "control379_FaJ7bh",
           "display": {
             "adapterId": "custom",
             "type": "custom",
             "adapter": {
               "templateType": "react",
               "events": {
-                "onDoAction": "doAction_uiControl210_CVeeGa",
-                "onGetTemplate": "getTemplate_uiControl210_CVeeGa"
+                "onDoAction": "doAction_uiControl365_VArUX4",
+                "onGetTemplate": "getTemplate_uiControl365_VArUX4"
               }
             }
           }
@@ -702,6 +767,27 @@
             "TR/TD/A",
             "TR/TD/INPUT-hidden",
             "TR/TD/INPUT-text"
+          ],
+          [
+            "-/-/DIV",
+            "-/-/SCRIPT",
+            "-/DIV/DIV",
+            "DIV/A/I",
+            "DIV/DIV/A",
+            "DIV/DIV/DIV",
+            "DIV/DIV/SPAN",
+            "DIV/DIV/TABLE",
+            "DIV/SPAN/BUTTON",
+            "DIV/SPAN/INPUT-text",
+            "DIV/TABLE/TBODY",
+            "DIV/TABLE/THEAD",
+            "TABLE/TBODY/TR",
+            "TABLE/THEAD/TR",
+            "TBODY/TR/TD",
+            "THEAD/TR/TH",
+            "TR/TD/A",
+            "TR/TD/INPUT-hidden",
+            "TR/TD/INPUT-text"
           ]
         ]
       }
-- 
2.18.0

